securityContext:
  enabled: true
  fsGroup: 1001
  runAsUser: 1001

commonAnnotations:
  io.io/tags: '{"env": "test", "team": "lupi" }'

commonLabels:
  io: "debug"

image:
  ## Docker image repository
  ##
  repository: "cubejs/cubestore"
  ## Docker image tag.
  ## Defaults to Chart AppVersion
  ##
  tag: "latest"
  ## Specify a imagePullPolicy
  ## ref: http://kubernetes.io/docs/user-guide/images/#pre-pulling-images
  ##

config:
  ## The logging level for Cube Store.
  ##
  logLevel: "debug"

  ## If true, prevents uploading serialized pre-aggregations to cloud storage
  ##
  noUpload: true

  ## If true, then send telemetry to Cube
  ##
  telemetry: false
  ## The number of Cube Store sub-processes that handle SELECT queries. Defaults to 4
  ##
  selectWorkers: 8

## Used to define the shared volume to store metadata and datasets
## Prefer use cloudStorage if your are running on "gcp" or "aws"
## If a cloudStorage configuration is used, no remoteDir will be created
##
# remoteDir:
cloudStorage:
  minio:
    ## The Access Key ID for minIO. Required when using minIO
    ##
    accessKeyID: "11111111111111111111"

    ## The Secret Access Key for minIO. Required when using minIO
    ##
    secretKey: "11111111111111111111"

    bucket: cuberemote

    ## The region of a bucket in S3 that you want to use minIO. Optional when using minIO
    ##
    region: us-east-1

    ## The minIO server endpoint. Required when using minIO
    ##
    endpoint: "http://192.168.0.33:9000"

router:
  ## The port for Cube Store to listen to HTTP connections on
  ##
  httpPort: 3030

  ## The port for the router node to listen for connections on
  ##
  metaPort: 9999

  ## The port for Cube Store to expose status probes
  ##
  statusPort: 3031

  persistence:
    ## Enable persistence for local data using Persistent Volume Claims
    ##
    enabled: true

    ## Persistent Volume size
    ##
    size: 4Gi

    ## Persistent Volume access modes
    ##
    accessModes:
      - ReadWriteOnce

    ## @param router.persistence.storageClass The storage class to use for the workers pvc
    ## If defined, storageClassName: <storageClass>
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
    ##   GKE, AWS & OpenStack)
    ##
    storageClass: csi-hostpath-sc

  ## Configure options for liveness probes
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes
  ##
  livenessProbe:
    enabled: true
    initialDelaySeconds: 10
    periodSeconds: 30
    timeoutSeconds: 10
    successThreshold: 1
    failureThreshold: 3

  ## Configure options for liveness probes
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes
  ##
  readinessProbe:
    enabled: true
    initialDelaySeconds: 10
    periodSeconds: 30
    timeoutSeconds: 10
    successThreshold: 1
    failureThreshold: 3

workers:
  ## Number of workers to deploy
  ##
  workersCount: 2

  ## The port for Cube Store workers to listen to connections on
  ##
  port: 9001

  persistence:
    ## Enable persistence for local data using Persistent Volume Claims
    ##
    enabled: true

    ## Persistent Volume size
    ##
    size: 4Gi

    ## Persistent Volume access modes
    ##
    accessModes:
      - ReadWriteOnce

    ## @param workers.persistence.storageClass The storage class to use for the workers pvc
    ## If defined, storageClassName: <storageClass>
    ## If undefined (the default) or set to null, no storageClassName spec is
    ##   set, choosing the default provisioner.  (gp2 on AWS, standard on
    ##   GKE, AWS & OpenStack)
    ##
    storageClass: csi-hostpath-sc
